<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Test: encoder_reader Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classencoder__reader.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classencoder__reader-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">encoder_reader Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Encoder Reader class used to read and return current encoder position.  
 <a href="classencoder__reader.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="encoder__driver_8h_source.html">encoder_driver.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeadf2cc411774d749f9b6129016e8dd4"><td class="memItemLeft" align="right" valign="top"><a id="aeadf2cc411774d749f9b6129016e8dd4" name="aeadf2cc411774d749f9b6129016e8dd4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>encoder_reader</b> (void)</td></tr>
<tr class="memdesc:aeadf2cc411774d749f9b6129016e8dd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor prototype. <br /></td></tr>
<tr class="separator:aeadf2cc411774d749f9b6129016e8dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb882c2fca94a0526e521e0c203d4391"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder__reader.html#abb882c2fca94a0526e521e0c203d4391">encoder_reader</a> (TIM_HandleTypeDef *<a class="el" href="classencoder__reader.html#a3a14c90a84914b45745af8a1e369db6d">htim</a>)</td></tr>
<tr class="memdesc:abb882c2fca94a0526e521e0c203d4391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for encoder objects.  <br /></td></tr>
<tr class="separator:abb882c2fca94a0526e521e0c203d4391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1080f731fac1e481cfde7c78a3c47e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder__reader.html#ae1080f731fac1e481cfde7c78a3c47e5">zero_count</a> (void)</td></tr>
<tr class="memdesc:ae1080f731fac1e481cfde7c78a3c47e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to zero the current motor position.  <br /></td></tr>
<tr class="separator:ae1080f731fac1e481cfde7c78a3c47e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a489abe87a8c432c82e821daf3f7c55d2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder__reader.html#a489abe87a8c432c82e821daf3f7c55d2">get_count</a> (void)</td></tr>
<tr class="memdesc:a489abe87a8c432c82e821daf3f7c55d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the current count value.  <br /></td></tr>
<tr class="separator:a489abe87a8c432c82e821daf3f7c55d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a346890b4bf86993f0a757b019b92eee8"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder__reader.html#a346890b4bf86993f0a757b019b92eee8">COUNT</a></td></tr>
<tr class="memdesc:a346890b4bf86993f0a757b019b92eee8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private Variable containing the current encoder value.  <br /></td></tr>
<tr class="separator:a346890b4bf86993f0a757b019b92eee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ef6bf9191c78c8dd7cb0fecdddd038"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder__reader.html#ad9ef6bf9191c78c8dd7cb0fecdddd038">prev_value</a></td></tr>
<tr class="memdesc:ad9ef6bf9191c78c8dd7cb0fecdddd038"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private Variable for the previous encoder value.  <br /></td></tr>
<tr class="separator:ad9ef6bf9191c78c8dd7cb0fecdddd038"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79d43744e5cc6762dc032c963e3f6622"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder__reader.html#a79d43744e5cc6762dc032c963e3f6622">DELTA</a></td></tr>
<tr class="memdesc:a79d43744e5cc6762dc032c963e3f6622"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private variable for the difference between the current and previous encoder value.  <br /></td></tr>
<tr class="separator:a79d43744e5cc6762dc032c963e3f6622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a14c90a84914b45745af8a1e369db6d"><td class="memItemLeft" align="right" valign="top">TIM_HandleTypeDef *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classencoder__reader.html#a3a14c90a84914b45745af8a1e369db6d">htim</a></td></tr>
<tr class="memdesc:a3a14c90a84914b45745af8a1e369db6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a pre-configured timer object.  <br /></td></tr>
<tr class="separator:a3a14c90a84914b45745af8a1e369db6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encoder Reader class used to read and return current encoder position. </p>
<p>The encoder class is used to read the current encoder value of a motor encoder. This requires a pre-initialized timer configured to encoder mode. The encoder simply works by reading the current encoder value and finding the difference between this value and the previous value. The difference is then added to the current count which contains the position of the motor. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abb882c2fca94a0526e521e0c203d4391" name="abb882c2fca94a0526e521e0c203d4391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb882c2fca94a0526e521e0c203d4391">&#9670;&#160;</a></span>encoder_reader()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">encoder_reader::encoder_reader </td>
          <td>(</td>
          <td class="paramtype">TIM_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>htim</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for encoder objects. </p>
<p>The encoder object simply needs pointer to a timer to be initialized. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a489abe87a8c432c82e821daf3f7c55d2" name="a489abe87a8c432c82e821daf3f7c55d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a489abe87a8c432c82e821daf3f7c55d2">&#9670;&#160;</a></span>get_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t encoder_reader::get_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to get the current count value. </p>
<p>This function simply returns the value stored in the COUNT variable. Before returning the value, the COUNT is upodated. This is done by getting the timer (encoders) current value and subtracting the previous value. This value is then added to the COUNT value which is then returned. </p>

</div>
</div>
<a id="ae1080f731fac1e481cfde7c78a3c47e5" name="ae1080f731fac1e481cfde7c78a3c47e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1080f731fac1e481cfde7c78a3c47e5">&#9670;&#160;</a></span>zero_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void encoder_reader::zero_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to zero the current motor position. </p>
<p>This function sets the COUNT variable to zero. This can be done to set a home position or use a current position as a datum. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a346890b4bf86993f0a757b019b92eee8" name="a346890b4bf86993f0a757b019b92eee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a346890b4bf86993f0a757b019b92eee8">&#9670;&#160;</a></span>COUNT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t encoder_reader::COUNT</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private Variable containing the current encoder value. </p>
<p>This value is constantly updated by the difference in encoder ticks. </p>

</div>
</div>
<a id="a79d43744e5cc6762dc032c963e3f6622" name="a79d43744e5cc6762dc032c963e3f6622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79d43744e5cc6762dc032c963e3f6622">&#9670;&#160;</a></span>DELTA</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int32_t encoder_reader::DELTA</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private variable for the difference between the current and previous encoder value. </p>
<p>This value is obtained by subtracting the previous value from the current value. DELTA is then added to the count to update the current position of the motor. </p>

</div>
</div>
<a id="a3a14c90a84914b45745af8a1e369db6d" name="a3a14c90a84914b45745af8a1e369db6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a14c90a84914b45745af8a1e369db6d">&#9670;&#160;</a></span>htim</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">TIM_HandleTypeDef* encoder_reader::htim</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to a pre-configured timer object. </p>
<p>The timer should be initialized before the encoder object is created and should be configured in encoder mode. The timer does the bulk of the heavy lifting by keeping track of the encoder pulses coming voer the channel. The timer can then be "read" to obtain the current value. </p>

</div>
</div>
<a id="ad9ef6bf9191c78c8dd7cb0fecdddd038" name="ad9ef6bf9191c78c8dd7cb0fecdddd038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ef6bf9191c78c8dd7cb0fecdddd038">&#9670;&#160;</a></span>prev_value</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t encoder_reader::prev_value</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private Variable for the previous encoder value. </p>
<p>This value is compared to the current value to get how far the encoder has moved between measurements </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="encoder__driver_8h_source.html">encoder_driver.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classencoder__reader.html">encoder_reader</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
