<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Test: sort_task Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classsort__task.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classsort__task-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sort_task Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class for sorting picked up balls.  
 <a href="classsort__task.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="sorting__task_8h_source.html">sorting_task.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad80dc3434faad3e89bedb56eb740498e"><td class="memItemLeft" align="right" valign="top"><a id="ad80dc3434faad3e89bedb56eb740498e" name="ad80dc3434faad3e89bedb56eb740498e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>sort_task</b> (void)</td></tr>
<tr class="memdesc:ad80dc3434faad3e89bedb56eb740498e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prototype Default constructor. <br /></td></tr>
<tr class="separator:ad80dc3434faad3e89bedb56eb740498e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ce60bdb311d2478d54fd074e9c231b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#a6ce60bdb311d2478d54fd074e9c231b2">sort_task</a> (<a class="el" href="classservo__driver.html">servo_driver</a> <a class="el" href="classsort__task.html#aa621d47e0c24c7675d06cea901351411">servo</a>, UART_HandleTypeDef *<a class="el" href="classsort__task.html#a579d4a19c7c9c5a686b2c8763beffad1">huart</a>, I2C_HandleTypeDef *<a class="el" href="classsort__task.html#a76ef8ee49bba6fb19d31c7fe8b8b65db">hi2c</a>)</td></tr>
<tr class="memdesc:a6ce60bdb311d2478d54fd074e9c231b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for the task creation.  <br /></td></tr>
<tr class="separator:a6ce60bdb311d2478d54fd074e9c231b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162955f8c7e5f3677897d6d4b1605b0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#a162955f8c7e5f3677897d6d4b1605b0c">run</a> (void)</td></tr>
<tr class="memdesc:a162955f8c7e5f3677897d6d4b1605b0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run method to implement the FSM.  <br /></td></tr>
<tr class="separator:a162955f8c7e5f3677897d6d4b1605b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c4c1d1bb9f2df5c62718b1087d7503c"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#a5c4c1d1bb9f2df5c62718b1087d7503c">get_duty</a> (void)</td></tr>
<tr class="memdesc:a5c4c1d1bb9f2df5c62718b1087d7503c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to get the current duty output.  <br /></td></tr>
<tr class="separator:a5c4c1d1bb9f2df5c62718b1087d7503c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-types" name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a375931da01f06635b62413c0f3da7a41"><td class="memItemLeft" align="right" valign="top">typedef void(sort_task::*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#a375931da01f06635b62413c0f3da7a41">state_fcn</a>) (void)</td></tr>
<tr class="separator:a375931da01f06635b62413c0f3da7a41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a5b743f8b6e115d85ffe39ab938cc0d4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#a5b743f8b6e115d85ffe39ab938cc0d4c">state_0</a> (void)</td></tr>
<tr class="memdesc:a5b743f8b6e115d85ffe39ab938cc0d4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function for state 0.  <br /></td></tr>
<tr class="separator:a5b743f8b6e115d85ffe39ab938cc0d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea5cbb0013cb3cb2f53e43b230af181"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#a4ea5cbb0013cb3cb2f53e43b230af181">state_1</a> (void)</td></tr>
<tr class="memdesc:a4ea5cbb0013cb3cb2f53e43b230af181"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function for state 1: Read color sensor.  <br /></td></tr>
<tr class="separator:a4ea5cbb0013cb3cb2f53e43b230af181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05dca36ddad9c110b0d24836c292fd1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#aa05dca36ddad9c110b0d24836c292fd1">state_2</a> (void)</td></tr>
<tr class="memdesc:aa05dca36ddad9c110b0d24836c292fd1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function for state 2: Move servo to accept.  <br /></td></tr>
<tr class="separator:aa05dca36ddad9c110b0d24836c292fd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a230efc9b6440f5d90fa93e9d34c14926"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#a230efc9b6440f5d90fa93e9d34c14926">state_3</a> (void)</td></tr>
<tr class="memdesc:a230efc9b6440f5d90fa93e9d34c14926"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal function for state 3: Move servo to reject.  <br /></td></tr>
<tr class="separator:a230efc9b6440f5d90fa93e9d34c14926"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9cce80601ba8a36094b7a8f51f135dfe"><td class="memItemLeft" align="right" valign="top"><a id="a9cce80601ba8a36094b7a8f51f135dfe" name="a9cce80601ba8a36094b7a8f51f135dfe"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>state</b></td></tr>
<tr class="memdesc:a9cce80601ba8a36094b7a8f51f135dfe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current state. <br /></td></tr>
<tr class="separator:a9cce80601ba8a36094b7a8f51f135dfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff86545dec9c604d0c2c0e045cfedf4"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#a0ff86545dec9c604d0c2c0e045cfedf4">runs</a></td></tr>
<tr class="memdesc:a0ff86545dec9c604d0c2c0e045cfedf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private Variable for number of times the task has ran.  <br /></td></tr>
<tr class="separator:a0ff86545dec9c604d0c2c0e045cfedf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bcd7fd8f7822dde044e46bf58ef3d51"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#a2bcd7fd8f7822dde044e46bf58ef3d51">num_states</a></td></tr>
<tr class="memdesc:a2bcd7fd8f7822dde044e46bf58ef3d51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private variable for the number of states in the FSM.  <br /></td></tr>
<tr class="separator:a2bcd7fd8f7822dde044e46bf58ef3d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50ee1e194b5ba79a1b6b43ba0715b9cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsort__task.html#a375931da01f06635b62413c0f3da7a41">state_fcn</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#a50ee1e194b5ba79a1b6b43ba0715b9cb">state_list</a></td></tr>
<tr class="memdesc:a50ee1e194b5ba79a1b6b43ba0715b9cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a list of all states.  <br /></td></tr>
<tr class="separator:a50ee1e194b5ba79a1b6b43ba0715b9cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa621d47e0c24c7675d06cea901351411"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classservo__driver.html">servo_driver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsort__task.html#aa621d47e0c24c7675d06cea901351411">servo</a></td></tr>
<tr class="memdesc:aa621d47e0c24c7675d06cea901351411"><td class="mdescLeft">&#160;</td><td class="mdescRight">Servo object passed into the task object.  <br /></td></tr>
<tr class="separator:aa621d47e0c24c7675d06cea901351411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579d4a19c7c9c5a686b2c8763beffad1"><td class="memItemLeft" align="right" valign="top"><a id="a579d4a19c7c9c5a686b2c8763beffad1" name="a579d4a19c7c9c5a686b2c8763beffad1"></a>
UART_HandleTypeDef *&#160;</td><td class="memItemRight" valign="bottom"><b>huart</b></td></tr>
<tr class="memdesc:a579d4a19c7c9c5a686b2c8763beffad1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre configured Uart channel for debugging. <br /></td></tr>
<tr class="separator:a579d4a19c7c9c5a686b2c8763beffad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a419454e89ed7037f0bb430ef654b0321"><td class="memItemLeft" align="right" valign="top"><a id="a419454e89ed7037f0bb430ef654b0321" name="a419454e89ed7037f0bb430ef654b0321"></a>
int16_t&#160;</td><td class="memItemRight" valign="bottom"><b>servo_angle</b></td></tr>
<tr class="memdesc:a419454e89ed7037f0bb430ef654b0321"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private variable corresponding to the servo set angle. <br /></td></tr>
<tr class="separator:a419454e89ed7037f0bb430ef654b0321"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1246f0aaaa594c2d93ea1581dba0232"><td class="memItemLeft" align="right" valign="top"><a id="af1246f0aaaa594c2d93ea1581dba0232" name="af1246f0aaaa594c2d93ea1581dba0232"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>start_ticks</b></td></tr>
<tr class="memdesc:af1246f0aaaa594c2d93ea1581dba0232"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private variable for the start time for each state. <br /></td></tr>
<tr class="separator:af1246f0aaaa594c2d93ea1581dba0232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89168a99c0025ac53340cb5786b9af3"><td class="memItemLeft" align="right" valign="top"><a id="ae89168a99c0025ac53340cb5786b9af3" name="ae89168a99c0025ac53340cb5786b9af3"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><b>curr_time</b></td></tr>
<tr class="memdesc:ae89168a99c0025ac53340cb5786b9af3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private variable for the current time in the state. <br /></td></tr>
<tr class="separator:ae89168a99c0025ac53340cb5786b9af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbc36a1dbef862f0ecd9e3c682c357cd"><td class="memItemLeft" align="right" valign="top"><a id="acbc36a1dbef862f0ecd9e3c682c357cd" name="acbc36a1dbef862f0ecd9e3c682c357cd"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>start_count</b></td></tr>
<tr class="separator:acbc36a1dbef862f0ecd9e3c682c357cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ef8ee49bba6fb19d31c7fe8b8b65db"><td class="memItemLeft" align="right" valign="top"><a id="a76ef8ee49bba6fb19d31c7fe8b8b65db" name="a76ef8ee49bba6fb19d31c7fe8b8b65db"></a>
I2C_HandleTypeDef *&#160;</td><td class="memItemRight" valign="bottom"><b>hi2c</b></td></tr>
<tr class="memdesc:a76ef8ee49bba6fb19d31c7fe8b8b65db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre-Initialized I2C pointer for RGB sensor communication. <br /></td></tr>
<tr class="separator:a76ef8ee49bba6fb19d31c7fe8b8b65db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78cd1ba791123e20baaebf0f4168f5bc"><td class="memItemLeft" align="right" valign="top"><a id="a78cd1ba791123e20baaebf0f4168f5bc" name="a78cd1ba791123e20baaebf0f4168f5bc"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>red_val</b></td></tr>
<tr class="memdesc:a78cd1ba791123e20baaebf0f4168f5bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private variables for the red, green, and blue color sensor data. <br /></td></tr>
<tr class="separator:a78cd1ba791123e20baaebf0f4168f5bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e73e971c454c11b54243bff6c71fd0c"><td class="memItemLeft" align="right" valign="top"><a id="a5e73e971c454c11b54243bff6c71fd0c" name="a5e73e971c454c11b54243bff6c71fd0c"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>green_val</b></td></tr>
<tr class="separator:a5e73e971c454c11b54243bff6c71fd0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f19c8096a04c44b7d6a4e9c8949ba1f"><td class="memItemLeft" align="right" valign="top"><a id="a6f19c8096a04c44b7d6a4e9c8949ba1f" name="a6f19c8096a04c44b7d6a4e9c8949ba1f"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>blue_val</b></td></tr>
<tr class="separator:a6f19c8096a04c44b7d6a4e9c8949ba1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for sorting picked up balls. </p>
<p>This class is used to implement the finite state machine for sorting ping-pong balls based on their color. This FSM has 4 states: state 0 initialization, state 1 get color sensor output, state 2 rotate servo motor 90 degrees. to the left if the ball is the correct color, state 3 move the servo motor to the right 90 degrees if the ball is the wrong color. </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a375931da01f06635b62413c0f3da7a41" name="a375931da01f06635b62413c0f3da7a41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a375931da01f06635b62413c0f3da7a41">&#9670;&#160;</a></span>state_fcn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(sort_task::* sort_task::state_fcn) (void)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function is used to call the required state function. It works by taking in the current state and calling the specific function corresponding to that state. The list of states and corresponding functions is kept in a struct that the function accesses. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a6ce60bdb311d2478d54fd074e9c231b2" name="a6ce60bdb311d2478d54fd074e9c231b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ce60bdb311d2478d54fd074e9c231b2">&#9670;&#160;</a></span>sort_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sort_task::sort_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classservo__driver.html">servo_driver</a>&#160;</td>
          <td class="paramname"><em>servo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">UART_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>huart</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">I2C_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>hi2c</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for the task creation. </p>
<p>Only contains pre constructed object and configured objects </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5c4c1d1bb9f2df5c62718b1087d7503c" name="a5c4c1d1bb9f2df5c62718b1087d7503c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c4c1d1bb9f2df5c62718b1087d7503c">&#9670;&#160;</a></span>get_duty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t sort_task::get_duty </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to get the current duty output. </p>
<p>This function is used to verify the pwm output before implementing it with the servo motor. </p>

</div>
</div>
<a id="a162955f8c7e5f3677897d6d4b1605b0c" name="a162955f8c7e5f3677897d6d4b1605b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a162955f8c7e5f3677897d6d4b1605b0c">&#9670;&#160;</a></span>run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void sort_task::run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run method to implement the FSM. </p>
<p>The run method uses the state variable to call the respective function using the state_fcn function. </p>

</div>
</div>
<a id="a5b743f8b6e115d85ffe39ab938cc0d4c" name="a5b743f8b6e115d85ffe39ab938cc0d4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b743f8b6e115d85ffe39ab938cc0d4c">&#9670;&#160;</a></span>state_0()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sort_task::state_0 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function for state 0. </p>
<p>Initialization state. In this state the I2C bus is initialized and set up for communication with the RGB color sensor. </p>

</div>
</div>
<a id="a4ea5cbb0013cb3cb2f53e43b230af181" name="a4ea5cbb0013cb3cb2f53e43b230af181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea5cbb0013cb3cb2f53e43b230af181">&#9670;&#160;</a></span>state_1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sort_task::state_1 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function for state 1: Read color sensor. </p>
<p>In state one the color sensor reading is updated by reading from the specific register using the inputed I2C bus. This outputs the red green and white values. These values are then compared to a standard value corresponding to a red ball. If the values are not close enough to the desired value, set state to state 3. If the read values are close to the set value, set state to 2. </p>

</div>
</div>
<a id="aa05dca36ddad9c110b0d24836c292fd1" name="aa05dca36ddad9c110b0d24836c292fd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05dca36ddad9c110b0d24836c292fd1">&#9670;&#160;</a></span>state_2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sort_task::state_2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function for state 2: Move servo to accept. </p>
<p>This state sets the servo to move to 90 degrees by using the passed through servo object's set position method. </p>

</div>
</div>
<a id="a230efc9b6440f5d90fa93e9d34c14926" name="a230efc9b6440f5d90fa93e9d34c14926"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a230efc9b6440f5d90fa93e9d34c14926">&#9670;&#160;</a></span>state_3()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sort_task::state_3 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal function for state 3: Move servo to reject. </p>
<p>This state sets the servo to move to 90 degrees by using the passed through object's set position method. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2bcd7fd8f7822dde044e46bf58ef3d51" name="a2bcd7fd8f7822dde044e46bf58ef3d51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bcd7fd8f7822dde044e46bf58ef3d51">&#9670;&#160;</a></span>num_states</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t sort_task::num_states</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private variable for the number of states in the FSM. </p>
<p>Initialized to 4. Used to set the size of the struct containing each state function. </p>

</div>
</div>
<a id="a0ff86545dec9c604d0c2c0e045cfedf4" name="a0ff86545dec9c604d0c2c0e045cfedf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ff86545dec9c604d0c2c0e045cfedf4">&#9670;&#160;</a></span>runs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t sort_task::runs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private Variable for number of times the task has ran. </p>
<p>This variable is incremented every time the task is ran. </p>

</div>
</div>
<a id="aa621d47e0c24c7675d06cea901351411" name="aa621d47e0c24c7675d06cea901351411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa621d47e0c24c7675d06cea901351411">&#9670;&#160;</a></span>servo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classservo__driver.html">servo_driver</a> sort_task::servo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Servo object passed into the task object. </p>
<p>The servo is used to put the balls in the correct location </p>

</div>
</div>
<a id="a50ee1e194b5ba79a1b6b43ba0715b9cb" name="a50ee1e194b5ba79a1b6b43ba0715b9cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50ee1e194b5ba79a1b6b43ba0715b9cb">&#9670;&#160;</a></span>state_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classsort__task.html#a375931da01f06635b62413c0f3da7a41">state_fcn</a>* sort_task::state_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to a list of all states. </p>
<p>This is used in the state_fcn function to list the states and the corresponding function </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="sorting__task_8h_source.html">sorting_task.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classsort__task.html">sort_task</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
